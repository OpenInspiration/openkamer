{% extends "website/base.html" %}

{% load openkamer %}

{% block content %}

<div class="subnav subnav-default subnav-fixed-top">
  <div class="container">
    <ul class="nav navbar-nav">
      <li><a href="{% url 'governments' %}">historische kabinetten</a></li>
    </ul>
  </div>
</div>

<div class="row">
  <div class="col-lg-12">
    <div align="center"><h3>{{ government.name }}</h3></div>
    <div align="center"><h4>{{ government.date_formed|date:"j F Y" }} - {% if government.date_dissolved %} {{ government.date_dissolved|date:"j F Y" }} {% else %} heden {% endif %}</h4></div>
  </div>
</div>

<hr/>

<div class="row">
  <div class="col-lg-12">
    <div align="center"><h4>Minister-president: <a href="{% url 'person' government.prime_minister.person.slug %}">{{ government.prime_minister.person.fullname }}</a></h4></div>
    <div align="center"><h5>Viceminister-president: <a href="{% url 'person' government.prime_minister.person.slug %}">{{ government.deputy_prime_minister.person.fullname }}</a></h5></div>
  </div>
</div>

<hr/>

<div class="row">
{% for ministry in government.ministries %}
  <div class="col-sm-6 col-md-6 col-lg-4" align="center">
    <div class="well">
      <h4>{{ ministry.name }}</h4>
      {% for position in ministry.positions %}

        {% get_current_party position.member_current.person.id as party %}
        {{ position }}: <a href="{% url 'person' position.member_current.person.slug %}">{{ position.member_current.person.fullname }}</a>
        (<a href="{% url 'party' party.slug %}">{{ party.name_short }}</a>)
        <br/>
      {% endfor %}

      <hr/>

      <small>
      {% for position in ministry.positions %}
        {% if position.members_inactive %} <b>{{ position }}</b><br/> {% endif %}
        {% for member in position.members_inactive %}
          {% get_current_party member.person.id as party %}
          <a href="{% url 'person' member.person.slug %}">{{ member.person.fullname }}</a>
          (<a href="{% url 'party' party.slug %}">{{ party.name_short }}</a>)
          ({{ member.start_date|date:"d b Y" }} - {{ member.end_date|date:"d b Y" }})
          <br/>
        {% endfor %}
      {% endfor %}
      </small>
    </div>
  </div>

  {% if forloop.counter|divisibleby:3 %}
  <div class="hidden-sm hidden-md clearfix"></div>
  {% endif %}

  {% if forloop.counter|divisibleby:2 %}
  <div class="hidden-lg clearfix"></div>
  {% endif %}

{% endfor %}

  {% if government.ministers_without_portfolio %}
  <div class="col-sm-6 col-md-6 col-lg-4" align="center">
    <div class="well">

      <h4>ministers zonder portefeuille <a href="https://nl.wikipedia.org/wiki/Minister_zonder_portefeuille" target="_blank" title="In Nederland is een minister zonder portefeuille verantwoordelijk voor een bepaald beleidsterrein, maar heeft niet de leiding over een departement. Ministers zonder portefeuille hebben, anders dan staatssecretarissen, zitting in de ministerraad en kunnen dus ook meestemmen over alle beslissingen."><span class="glyphicon glyphicon-info-sign"></span></a></h4>

      {% for minister in government.ministers_without_portfolio %}
        {{ minister.position.extra_info }}: <a href="{% url 'person' minister.person.slug %}">{{ minister.person.fullname }}</a>
        {% get_current_party minister.person.id as party %}
        (<a href="{% url 'party' party.slug %}">{{ party.name_short }}</a>)
        {% if minister.end_date %}
        ({{ minister.start_date|date:"d b Y" }} - {{ minister.end_date|date:"d b Y" }})
        {% endif %}
        <br/>
      {% endfor %}

    </div>
  </div>
  {% endif %}

</div>

<hr/>

<div class="row">
  <div class="col-lg-12">
    <div align="center">
      <h5>APIs</h5>
      <h5><a href="/api/government/">Government</a></h5>
      <h5><a href="/api/governmentmember/">Government Member</a></h5>
      <h5><a href="/api/ministry/">Ministry</a></h5>
      <h5><a href="/api/governmentposition/">Government Position</a></h5>
    </div>
  </div>
</div>

<hr/>

{% endblock %}
