{% extends "stats/base.html" %}

{% load l10n %}

{% block title %}Stemgedrag per Partij {{ block.super }}{% endblock %}

{% block content %}
{{ block.super }}

<div class="row" align="center">
  <div class="col-lg-12">
    <h3>Stemgedrag per Partij</h3>

    <table class="table table-striped table-hover table-condensed">
      <thead>
        <tr>
          <th>Partij</th>
          {% with stat=stats|first %}
          {% for period in stat.periods %}
            <th>{{ period.government.name }}</th>
          {% endfor %}
          {% endwith %}
        </tr>
      </thead>
      <tbody>
      {% for stat in stats %}
        <tr>
          <td>{{ stat.party.name_short }}</td>
          {% for period in stat.periods %}
          <td>
            {% if period.n_votes != 0 %}
            <div class="progress vote-result">
              <div class="progress-bar progress-bar-success" style="width: {{ period.for_percent|unlocalize }}%" title="{{ period.for|length }}">{{ period.for_percent|floatformat:0 }} %</div>
              <div class="progress-bar progress-bar-danger" style="width: {{ period.against_percent|unlocalize }}%" title="{{ period.against|length }}">{{ period.against_percent|floatformat:0 }} %</div>
              <div class="progress-bar progress-bar-warning" style="width: {{ period.none_percent|unlocalize }}%" title="{{ period.none|length }}"></div>
            </div>
            {% endif %}
          </td>
          {% endfor %}
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<hr/>

{% endblock %}