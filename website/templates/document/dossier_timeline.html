{% extends "website/base.html" %}

{% block title %}Tijdlijn wetsvoorstel {{ dossier.dossier_id }} - {{ dossier.title }} {{ block.super }}{% endblock %}

{% load staticfiles %}
{% load openkamer %}

{% block headcontent %}
  <link rel="stylesheet" href="/static/css/timeline.css"> <!-- Resource style -->
  <script src="/static/js/modernizr.min.js"></script> <!-- Modernizr -->
{% endblock %}

{% block content %}

<div class="subnav subnav-default">
  <div class="container">
    <ul class="nav navbar-nav">
      <li class="active"><a href="{% url 'dossier-timeline' dossier.dossier_id %}">Verticale Tijdlijn</a></li>
      <li><a href="{% url 'dossier-timeline-horizontal' dossier.dossier_id %}">Horizontale Tijdlijn</a></li>
    </ul>
  </div>
</div>

<div class="row">
  <div class="col-lg-12">
    <div align="center">
      <h5>Tijdlijn Wetsvoorstel {{ dossier.dossier_id }}</h5>
      <h4>{{ dossier.title }}</h4>
    </div>
  </div>
</div>

<div class="row">

<section id="cd-timeline" class="cd-container">

  <div class="cd-timeline-block">

    {% if dossier.voting %}
      {% get_voting_result_color dossier.voting.id as voting_result_class %}
      {% get_voting_result_icon dossier.voting.id as voting_result_icon %}
      <div class="cd-timeline-img text-center bg-{{ voting_result_class }}">
        <span style="font-size:24px;" class="fa {{ voting_result_icon }}"></span>
      </div>
      {% elif dossier.is_active %}
      <div class="cd-timeline-img text-center bg-info">
        <span style="font-size:24px;" class="fa fa-spinner"></span>
      </div>
      {% else %}
      <div class="cd-timeline-img text-center bg-warning">
        <span style="font-size:24px;" class="fa fa-flag-checkered"></span>
      </div>
    {% endif %}

    <div class="cd-timeline-content">
      {% if dossier.voting %}
      <h2>Dit wetsvoorstel is {{ dossier.voting.get_result_display }}</h2>
        {% with voting=dossier.voting %}
          {% include "document/items/voting_result_bar.html" %}
        {% endwith %}
        {% include "document/items/voting_result_list.html" %}
      {% elif dossier.is_active %}
      <h2>Dit wetsvoorstel is nog in behandeling.</h2>
      {% else %}
      <h2>Dit wetsvoorstel is niet meer in behandeling.</h2>
      <h2>Er is niet over gestemd.</h2>
      <p>Het is voor openkamer niet duidelijk of dit voorstel is aangenomen of verworpen, en op welke manier dit is gebeurd.</p>
      <p>Mogelijk is er iets besloten door een commissie, of heeft de indiener het voorstel ingetrokken. Deze beslissingen zouden zichtbaar moeten zijn als items in deze tijdlijn.</p>
      {% endif %}

      <p>Scroll naar beneden om alle stukken binnen dit wetsvoorstel te bekijken.</p>

    </div>

  </div> <!-- cd-timeline-block -->

  {% for item in timeline_items %}

	<div class="cd-timeline-block">
      {% include item.template_name %}
	</div> <!-- cd-timeline-block -->

  {% endfor %}
</section>

</div>

<script src="{% static 'js/timeline.js' %}"></script>

{% endblock %}
